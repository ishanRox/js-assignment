<!DOCTYPE html>
<html>
  <head>
    <title>Load Balance</title>
  </head>
  <body>
    <form action="">
      <h1>Input the data here EG-"[3, 4]","[1, 2, 7, 7]":</h1>
      <input type="text" id="string1">
      <br><br>
      <input type="submit" onclick="adapter(document.getElementById('string1').value)" value="Click to submit" id="sub">
    </form>
    <script type = "text/javascript" >
      function adapter(s1) {
        //cleaned string using lambda and regex
        var cleaned = s1.split(',').map(x => parseInt(x.match(/\d+/g)[0]));
        var val = ScaleBalancing(["[" + cleaned.slice(0, 2) + "]", "[" + cleaned.slice(2, cleaned.length) + "]"]);
        window.alert(val);
      }
      function ScaleBalancing(strArr) {
        //output ekata
        var Left = "Left:";
        var Right = "Right:";
        // data clear wenkaragannawa array dekakata Json parse magin
        var balance = JSON.parse(strArr[0]);
        //balance deka equal nam return karnawa
        if (balance[0] == balance[1]) {
          return "Equals ";
        }
        var weights = JSON.parse(strArr[1]);
        //absolute damme negative unath ok nisa difference eka
        var balanceDiff = Math.abs(balance[0] - balance[1]);
        //kelinma oni weight eka thiyenawa nam return
        if (weights.includes(balanceDiff)) {
          if (balance[0] < balance[1]) {
            Left += balanceDiff.toString();
            Right += "0";
          } else {
            Right += balanceDiff.toString();
            Left += "0";
          }
          return Left + " | " + Right;
        }
        for (var i = 0; i < weights.length - 1; i++) {
          for (var j = i + 1; j < weights.length; j++) {
            //deke ekathuwen enawanam dekama eka paththakata
            //deke wenasen enawanam deka depaththata
            if (weights[i] + weights[j] === balanceDiff ||
              Math.abs(weights[i] - weights[j]) === balanceDiff) {
              //addition ekak nisa nam weight dekama ekakata
              if (weights[i] + weights[j] === balanceDiff) {
                //pair eka assending order ekata gannai ternary seen eka
                var pair = weights[i] < weights[j] ? weights[i] + ',' + weights[j] : weights[j] + ',' + weights[i];
                //assending order ekata oni nisa thama meeka
                if (balance[0] < balance[1]) {
                  Left += pair;
                  Right += "0";
                } else {
                  Right += pair;
                  Left += "0";
                }
                return Left + " | " + Right;
              } else {
                //deke wenasin nam eee kiyanne adu kenata wadi eka wadi kenata adu eka
                var lower = weights[i] < weights[j] ? weights[i] : weights[j];
                var higher = weights[i] > weights[j] ? weights[i] : weights[j];
                if (balance[0] > balance[1]) {
                  Left += lower + "";
                  Right += higher + "";
                } else {
                  Left += higher + "";
                  Right += lower + "";
                }
                return Left + " | " + Right;
              }
            }
          }
        }
        return 'not possible';
      }
    </script>
  </body>
</html>

